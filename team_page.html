<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="device-width, initial-scale=1.0">
    <title>둘둘1나</title>
    <!-- 부트스트랩 import -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <!-- jQuery import -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Black+Han+Sans&family=Do+Hyeon&family=Gaegu&family=Gamja+Flower&family=Gowun+Dodum&display=swap');

        * {
            font-family: 'Gowun Dodum', sans-serif;
        }



        .logo {
            /* background-color: blue; */
            height: 150px;

            /* 안에 내용물 가운데로 오게하기 */
            /* div 안에 있는 내용물 정렬 */
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
        }

        .logo>img {
            /* logo의 높이인 100px을 초과하지 않고 이미지의 최대 높이 설정 */
            max-height: 70%;
            /* 가로비율 유지 */
            max-width: 100%;
            /* background-color: #ca8bde; */
        }

        .container {
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
        }

        a.nav-link {
            /* background-color: pink; */
            color: #7282ba;
            font-size: 30px;
            margin: 30px;
            font-family: "Black Han Sans", serif;

        }


        .header {
            background-size: cover;
            /* background-color: green; */
            background-image: url('images/mainimg.png');
            background-position: right;
            height: 700px;
            display: flex;
            flex-direction: column;
        }

        .header>h1 {
            margin: 0;
            font-size: 40px;
        }

        .header>div {
            font-size: 20px;
            margin-top: 10px;

        }

        .mycards {
            /* background-color: black; */
            width: 1500px;
            margin: 20px auto;
            padding: 50px;
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center;

        }

        .card {
            border-radius: 30px;
            background-color: white;
            border: none;
            color: black;
            margin: 15px 40px 15px 40px;
            /* max-width: 100%;  */
        }

        .card-img-top {
            object-fit: cover;
            height: 450px;
            /* max-width: 100%; */
            border-radius: 20px;
        }

        .card-title {
            margin-top: 10px;
            font-size: 30px;
            /* max-height: 400px; */
            font-weight: bold;
        }

        .card-body {
            border: rgb(127, 182, 105) 5px solid;
            border-radius: 20px;
            height: 230px;


        }

        .card-text {
            font-size: 20px;
            color: black;
        
        }

        .jumbotron-message {
            /* margin-left: 150px; */
            font-size: 1500px;
            /* text-align: center; */
        }

        .post {
            width: 1460px;
            margin: 20px 0px 1px 0px;
            padding: 20px;
            box-shadow: 0px 0px 3px 0px transparent;
            background-color: rgb(242, 238, 244);

            border-radius: 10px;
        }

        .form-floating input,
        .form-floating textarea {
            color: black;
            background-color: white;
        }


        .button2 {
            display: flex;
            justify-content: flex-end;
            margin-top: 15px;


        }

        .button2>button {
            margin-right: 10px;
        }

        .guestcomment {
            width: 1460px;
            margin: 10px 0px 80px 20px;
            padding: 20px;
            box-shadow: 0px 0px 3px 0px transparent;

        }

        .gcard {
            border-radius: 30px;
            /* background-color: rgb(144, 19, 19); */
            border: none;
            color: black;
            margin: 15px 40px 15px 40px;

        }

        .gcard-title {
            margin-top: 10px;
            margin-bottom: 10px;
            font-size: 20px;
            font-weight: bold;
        }

        .gcard-body {

            border-top: transparent;
            border-right: transparent;
            border-bottom: solid rgb(104, 102, 102);
            border-left: transparent;
            max-width: 100%;


        }

        .gcard-text {
            color: black;
        }

        .gbutton {
            display: flex;
            justify-content: flex-end;
            margin-top: 15px;


        }

        .gbutton>button {
            margin-right: 10px;
            margin-top: 0;
            margin-bottom: 5px;

            border-radius: 10px;
            /* 둥근 모서리 추가 */
            box-shadow: none;
            /* 그림자 제거 */
            background-color: #f0f0f0;
            /* 배경 색상 (선택 사항) */
            border: 1px solid #f0f0f0;
            /* 얇은 테두리 추가 (선택 사항) */

        }

        .gbutton>button:hover {
            background-color: #e0e0e0;
        }

        .guestbook {
            width: 1460px;
            /* background-color: rgb(57, 121, 121); */
            margin: 20px 0px 1px 20px;
        }

    </style>

    <script type="module">
        // Firebase SDK 라이브러리 가져오기
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
        import { collection, addDoc, query, orderBy, serverTimestamp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
        import { getDocs } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";


        // Firebase 구성 정보 설정
        const firebaseConfig = {
            // For Firebase JS SDK v7.20.0 and later, measurementId is optional
            apiKey: "AIzaSyBy3eE88hLZPs0nbZsyh-xDwU3P4o_V0RY",
            authDomain: "sparta-8502a.firebaseapp.com",
            projectId: "sparta-8502a",
            storageBucket: "sparta-8502a.firebasestorage.app",
            messagingSenderId: "951025107455",
            appId: "1:951025107455:web:27123fc896a1e0df7367ca",
            measurementId: "G-TZR3YGP3Y5"
        };


        // Firebase 인스턴스 초기화
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // 데이터 추가
        $("#addBtn").click(async function () {

            let title = $('#nameTitle').val();
            let comment = $('#comment').val();

            try {
                const docRef = await addDoc(collection(db, "guestbookMain"), {

                    'title': title,
                    'comment': comment,
                    'timestamp': new Date()  

                });
                console.log(title, comment)
                alert("방명록이 추가 되었습니다!");
                window.location.reload();
            } catch (e) {
                console.error("Error adding document: ", e);
            }
        });


        // 데이터 읽기 및 카드 생성
        $(".guestcomment").empty();
        const q = query(collection(db, "guestbookMain"), orderBy("timestamp", "desc")); // 오름차순 정렬
        const querySnapshot = await getDocs(q);

        querySnapshot.forEach((doc) => {

            let title = doc.data().title;
            let comment = doc.data().comment;

            let tempHtml = `  
            <div class="gcard-body">
                <h4 class="gcard-title">${title}</h4>
                <p class="gcard-text">${comment}</p>
            </div>
            `

            $(".guestcomment").append(tempHtml);
        });

 

    </script>
</head>

<body id="pageTop">
    <header>
        <div class="logo">
            <img src="images/221logo.png">
        </div>
        <div class="container">
            <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
                <a href="/" class="d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none">
                    <svg class="bi me-2" width="40" height="32" role="img" aria-label="Bootstrap">
                        <use xlink:href="#bootstrap"></use>
                    </svg>
                </a>
                <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
                    <li><a href="#pageTop" class="nav-link px-2 ">홈</a></li>
                    <li><a href="#pageTeam" class="nav-link px-2 ">팀소개</a></li>
                    <li><a href="#pageTeammate" class="nav-link px-2 ">팀원소개</a></li>
                    <li><a href="#pageGuestbook" class="nav-link px-2 ">방명록</a></li>
                </ul>
            </div>
        </div>
    </header>

    <div class="header" id="pageTeam">
        <div class="p-5 mb-4 bg-body-tertiary rounded-3">
            <div class="container-fluid py-5">
                <div class="jumbotron-message">
                    <h1 class="display-5 fw-bold" style="font-family: 'Black Han Sans', sans-serif; ">🌟221나를 소개합니다🌟
                    </h1>
                    <p class="col-md-8 fs-4"> 안녕하세요! 저희는 팀원들이 모이지 않은 팀원들의 모임 <span
                            style="background-color: rgb(255, 167, 58); font-size: 25px;"><b>‘둘둘하나’</b></span>입니다.
                        <br>21조, 26조, 27조는 두 명이하였지만 그들이 모여 5명의 새로운 팀이 되었답니다.
                        <br><span style="background-color: rgb(255, 167, 58); font-size: 23px;"><b>개발자가 되기 위한 열정
                                !</b></span>
                        <br><span style="background-color: rgb(255, 167, 58); font-size: 23px;"><b>팀으로 함께하고 싶은 마음 !
                            </b></span>
                        <br><span style="background-color: rgb(255, 167, 58); font-size: 23px;"><b>미니프로젝트를 꼭 해보자는 의지
                                !</b></span>
                        <br>로 똘똘 뭉쳐진 팀입니다.
                        <br>진도도, 수준도, 성격도 모두 다르지만 한 배를 타고 함께 항해를 시작합니다
                        <br>아자아자 화이팅 😃

                    </p>
                </div>
            </div>

        </div>
    </div>

    <div class="mycards" id="pageTeammate">
        <div class="row row-cols-1 row-cols-md-3 g-4">
            <div class="col">
                <div class="card h-100">
                    <a href="sge.html"><img src="images/sge.JPG" class="card-img-top" alt="..."></a>
                    <div class="card-body">
                        <h4 class="card-title">송가은</h4>
                        <p class="card-tmi">자기소개</p>
                        <p class="card-text">26살이고 컴퓨터공학과 전공했습니다!</p>
                        <p class="card-tmi">tmi</p>
                        <p class="card-tmi">따끈따근 맥날 퇴사자! 맛도리 조합 물어보십쇼</p>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card h-100">
                    <a href="ktg.html"><img src="https://i.postimg.cc/65Q5Hy5K/image.jpg" class="card-img-top"
                            alt="..."></a>
                    <div class="card-body">
                        <h4 class="card-title">김태균</h4>
                        <p class="card-tmi">자기소개</p>
                        <p class="card-text">28살이구요 비전공자입니다 </p>
                        <p class="card-tmi">tmi</p>
                        <p class="card-tmi">INTJ,왼손잡이,빵돌이</p>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card h-100">
                    <a href="kyb.html"><img src="images/kyb.jpg" class="card-img-top" alt="..."></a>
                    <div class="card-body">
                        <h4 class="card-title">김윤범</h4>
                        <p class="card-tmi">자기소개</p>
                        <p class="card-text">26살 데이터사이언스학과 전공했습니다</p>
                        <p class="card-tmi">tmi</p>
                        <p class="card-tmi">평소에 사진을 잘안찍어서 저 혼자있는사진 1년전꺼에서 찾았습니다😭</p>
                        
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card h-100">
                    <a href="kty.html"><img src="images/kty.JPG"
                        class="card-img-top" alt="kty.photo"></a>
                    <div class="card-body">
                        <h4 class="card-title">강태영</h4>
                        <p class="card-tmi">자기소개</p>
                        <p class="card-text">행복을 추구하는 25살입니다!</p>
                        <p class="card-tmi">tmi</p>
                        <p class="card-tmi">이제 서울산지 1년 됐습니다<br>
                        </p>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card h-100">
                    <a href="a.html"><img src=""
                        class="card-img-top" alt="..."></a>
                    <div class="card-body">
                        <h4 class="card-title">이름</h4>
                        <p class="card-tmi">자기소개</p>
                        <p class="card-text">자기소개 - 여기 적으세요</p>
                        <p class="card-tmi">자기소개</p>
                        <p class="card-tmi">TMI - 여기 적으세여</p>
                    </div>
                </div>
            </div>





        </div>
    </div>

    <div class="guestbook" id="pageGuestbook">
        <div>
            <h1 style="font-family: 'Black Han Sans', sans-serif; ">자유롭게 방명록을 남겨주세요!</h1>
            <!-- 부트스트랩 인풋 박스 적용-->
            <div class="post" id="input-card">
                <div class="form-floating mb-3">
                    <input type="text" class="form-control" id="nameTitle" placeholder="등록자 명">
                    <label for="nameTitle">별명 입력해주세요</label>
                </div>
                <div class="form-floating">
                    <textarea class="form-control" placeholder="Leave a comment here" id="comment"></textarea>
                    <label for="comment">자유롭게 방명록을 남겨주세요</label>
                </div>

                <div class="button2">
                    <button type="button" class="btn btn-light" id="addBtn"> 빙명록 등록 </button>
                </div>
            </div>
        </div>
    </div>

    <div class="guestcomment">
        <div class="gcard">

        </div>
    </div>


    <div class="topbtn" style="position: fixed; bottom: 20px; right: 20px;">
        <a href="#pageTop"><img src="images/topbtn.png" style="width:60px; height:60px; border-radius:20px"></a>
    </div>

</body>

</html>